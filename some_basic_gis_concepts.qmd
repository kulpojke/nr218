# Some basic GIS Concepts

## Location {style="font-size:0.5em"}

+ Position
+ A position on the surface of the earth
+ How do we define a location?
  + __Nominal location__ - By name
    + Helsinki, Finland
    + Appalachia

  + __Relative__
    + Oakland is east of San Francisco

  + __Absolute Location__ - can be defined using Coordinates
    + Postal Code
    + X,Y,(Z) is the Cartesian coordinate system
    + Latitude and Longitude are the (non-projected )Geographic Coordinate System
  
## Direction {style="font-size: 0.6em" auto-animate=true auto-animate-easing="ease-in-out"}

The angle from feature or phenomenon on the surface of the earth
relative to some reference point

+ Egocentric location, _to my left_
+ Landmark direction, _towards the mountain_

In geography and GIS, there are three more standard benchmarks that are used to define the directions:

+ __True north__ is towards the point at which the axis of the
earth’s rotation intersects the earth’s surface in the norther hemisphere

+ __Magnetic north__ is towards where the Earth's magnetic fields merge in the the norther hemisphere  

+ __Grid north__ is the northward direction of the grid lines of latitude and longitude on a map

## {auto-animate=true auto-animate-easing="ease-in-out"}

:::{.absolute style="top: 40px; left: 50px; font-size: 0.8em;" data-id="1"}
![](img/Utm-latlon_grid_en.svg.png){width=400px top=10 right=0}
:::

:::{.absolute style="top: 40px; right: 50px; font-size: 0.8em;" data-id="2"}
![](img/North_Magnetic_Poles.png){width=400px top=10}
:::





## Distance
+ The separation between locations
  + _Nominal_ (e.g. close/far) or _Absolute_ (1 kilometer)
+ Cartesian distance on a flat surface is easy:  
$$
D = \sqrt{(x_{2} - x_{1})^{2} + (x_{2} - x_{1})^{2}}
$$

+ Distance on a 3-Dimensional surface is complicated. We will discuss it later



## Space
Space is kind of an ambiguous term. 

For GIS we are often interested in  _topological_ space

+ Positional relationships between places / nodes /objects
+ e.g. subway map 


## Navigation
Destination-oriented movement through space. Relies on:

+ Landmark Knowledge
+ Route Knowledge
+ Survey knowledge


## GIS
All GIS systems have a database that can relate spatial-data and attribute data.

+ Spatial data is made up of points, lines, polygons, etc... which represent locations or features in the real world, e.g. a linestring representing a river.

+ Attributes are data associated with the features, e.g. the population of a city. 

## Layers {style="font-size:0.6em"}
Models representing different aspects of the physical world
![](img/layers.png)

## Attributes {style="font-size:0.3em"}

```{python}
#| echo: false
import geopandas as gpd
from pathlib import Path
file = Path('assets/CA_Perimeters_CAL_FIRE_NIFC_FIRIS_public_view.geojson')
df = gpd.read_file(file)
df.head()
```
Attributes of [`assets/CA_Perimeters_CAL_FIRE_NIFC_FIRIS_public_view.geojson`](assets/CA_Perimeters_CAL_FIRE_NIFC_FIRIS_public_view.geojson)

##
![Right-click layer --> Open Attribute Table](img/qgis-attrubute-table.png)

## Map Types {.columns}
There are a few types of maps:

::: {.column width="50%"}
:::{r-stack}

:::{.fragment .fade-in-then-out style="position: absolute; font-size: 0.8em;" data-fragment-index="1"}
Mental Maps

+ Psychological tools that we all use every day. 
+ Stored in our brain
+ To get from one place to another, or to understand and situate events that we hear about
+ Reflect the amount and extent of geographic knowledge and spatial awareness that we possess

__Using a blank sheet of paper, take five minutes to draw a map from memory of San Luis Obispo__

:::

:::{.fragment .fade-in-then-out style="position: absolute; width: 50%; word-wrap: break-word; overflow-wrap: break-word; font-size: 0.8em;" data-fragment-index="2"}

Reference - shows location information, often represent geographic reality accurately, topographic maps for example
:::

:::{.fragment .fade-in-then-out style="position: absolute; width: 50%; word-wrap: break-word; overflow-wrap: break-word; font-size: 0.8em;" data-fragment-index="3"}

Reference - shows location information, often represent geographic reality accurately...

But not always.  A subway map is also a reference map.  It represents topological relationships accurately in a schematic way for ease of navigation
:::


:::{.fragment .fade-in-then-out style="position: absolute; width: 50%; word-wrap: break-word; overflow-wrap: break-word; font-size: 0.8em;" data-fragment-index="4"}

Thematic - shows how one or more factors are
distributed across space, such as a map of malaria infection rates
:::



:::
:::

::: {.column width="50%"}
:::{r-stack}

::: {.fragment .fade-in-then-out style="position: absolute;" data-fragment-index="2"}
![USGS Topographic Map of Boulder, CO](img/boulder-topo.png)
:::

::: {.fragment .fade-in-then-out style="position: absolute; height:65vh; width:100%; overflow:hidden;" data-fragment-index="3"}
<div style="height:90%; width:100%; display:flex; align-items:flex-start; justify-content:center;">
  <img src="img/subway-map-2019a.png" alt="Subway map - topological diagram for navigating a system" style="max-height:25%; width:40%; object-fit:contain;" />
</div>
:::


::: {.fragment .fade-in-then-out style="position: absolute;" data-fragment-index="4"}
![European GDP](img/euro-gdp-map.png)
:::

:::
:::

::: {.fragment .fade-in style="position: absolute top=0; font-size:0.5em" data-fragment-index="5"}
__Dynamic / Interactive__  
- maps that change depending on user input
```{python}
#| echo: true
#| code-fold: true
#| code-summary: "Show code"

from pathlib import Path

import folium
import geopandas as gpd

aoi_path = Path('assets/Eaton_Perimeter_20250121.geojson')
aoi = gpd.read_file(aoi_path)

# grab centroids
c = aoi.to_crs(epsg=26910).dissolve().centroid.to_crs(epsg=4326).item()

# map
map = folium.Map(
  location=[c.y, c.x],
  tiles='OpenStreetMap',
  zoom_start=12
)

# perimeter
geo_j = folium.GeoJson(data=aoi.__geo_interface__,
  style_function=lambda feature: {
    'color': 'red',
    'weight': 2,
    'fill': False,
    },
    name='Fire Perimeter'
  ).add_to(map)
# layer control

map
```

:::


## What is data? (_What are data?_) 
+ "Related items of (chiefly numerical) information considered collectively, typically obtained by scientific work and used for reference, analysis, or calculation."
+ "Quantities, characters, or symbols on which operations are performed by a computer, considered collectively. Also (in non-technical contexts): information in digital form."
-OED  

## What is information?
+ “The imparting of knowledge in general.”
+ “Knowledge communicated concerning some particular fact, subject, or event; that of which one is apprised or told; intelligence, news.”  
-OED

## What is Spatial Data?
:::{.fragment}
Data with a geographic and/or  spatial component.
:::

## What is Metadata
:::{.fragment}
Data about the data, e.g. units, date collected, instruments used...
:::

