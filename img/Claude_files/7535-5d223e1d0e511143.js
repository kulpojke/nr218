try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},r=(new e.Error).stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="ee985942-9759-410b-85bf-4009a4a9d62b",e._sentryDebugIdIdentifier="sentry-dbid-ee985942-9759-410b-85bf-4009a4a9d62b")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7535],{46127:(e,r,t)=>{t.d(r,{Vc:()=>s,Wz:()=>a});var n=t(30686),o=t(7620);function a(e,r){return(0,n.F)({key:"SSS-".concat(e),defaultValue:r,serialize:JSON.stringify,deserialize:e=>void 0===e?r:JSON.parse(e)})}function s(e,r){return function(e){var r,t,n;let{key:a,defaultValue:s,deserialize:i=JSON.parse,getInitialValueInEffect:l=!1,sync:u=!0}=e,c="LSS-".concat(a),f=(0,o.useRef)(null!=(n=null==(r=(t=crypto).randomUUID)?void 0:r.call(t))?n:"".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2))),d=(0,o.useRef)(!1),[g,y]=(0,o.useState)(()=>{if(l)return s;try{let e=window.localStorage.getItem(c);if(e){let r=JSON.parse(e);if(r&&"object"==typeof r&&"value"in r)return r.value;return i(e)}}catch(e){console.warn("Error reading localStorage key “".concat(c,"”:"),e)}return s});(0,o.useEffect)(()=>{if(l)try{let e=window.localStorage.getItem(c);if(e){let r=JSON.parse(e);r&&"object"==typeof r&&"value"in r?y(r.value):y(i(e))}}catch(e){console.warn("Error reading localStorage key “".concat(c,"”:"),e)}},[c,i,l]);let p=(0,o.useCallback)(e=>{d.current=!0,y(r=>{let t="function"==typeof e?e(r):e;try{let e={value:t,tabId:f.current,timestamp:Date.now()},r=JSON.stringify(e);if(window.localStorage.setItem(c,r),u){let e=new StorageEvent("storage",{key:c,newValue:r,oldValue:window.localStorage.getItem(c),storageArea:window.localStorage,url:window.location.href});window.dispatchEvent(e)}}catch(e){console.warn("Error writing localStorage key “".concat(c,"”:"),e)}return t}),Promise.resolve().then(()=>{d.current=!1})},[c,u]),b=(0,o.useCallback)(()=>{window.localStorage.removeItem(c),y(s)},[c,s]);return(0,o.useEffect)(()=>{if(!u)return;let e=e=>{if(e.key===c&&e.newValue&&!d.current)try{let r=JSON.parse(e.newValue);if(r&&"object"==typeof r&&"value"in r&&"tabId"in r){if(r.tabId===f.current)return;y(r.value)}else y(i(e.newValue))}catch(e){console.warn("Error handling storage event for “".concat(c,"”:"),e)}};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[c,u,i]),[g,p,b]}({key:e,defaultValue:r,deserialize:e=>void 0===e?r:JSON.parse(e),getInitialValueInEffect:!1,sync:!0})}},63246:(e,r,t)=>{t.d(r,{Ah:()=>s,Bs:()=>o,NJ:()=>a,VH:()=>n,Xs:()=>l,u5:()=>i});let n=e=>{let{account:r,isClaudeDot:t}=e;return t?!1===r.settings.has_finished_claudeai_onboarding:!r.full_name||!r.display_name},o=(e,r)=>r&&!e.is_verified,a=(e,r)=>!!function(e,r){for(let t of e.invites)if(t.organization.capabilities&&t.organization.capabilities.includes(r))return t}(e,r?"raven":"api"),s=(e,r)=>!r&&0===e.invites.length&&0===e.memberships.filter(e=>e.organization.capabilities.includes("api")).length,i=function(e,r){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t&&r&&!e.age_is_verified},l=function(e,r){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n({account:e,isClaudeDot:r})||o(e,r)||a(e,r)||s(e,r)||i(e,r,t)}},69916:(e,r,t)=>{t.d(r,{ErrorSegmentConnector:()=>I,ErrorsProvider:()=>_,i:()=>M,Y:()=>S});var n=t(54568),o=t(63246),a=t(27062),s=t(44180),i=t(90819),l=t.n(i),u=t(58648),c=t.n(u),f=t(26836),d=t.n(f),g=t(62942),y=t(7620),p=t(75006),b=t(98518),m=t(1761);function v(e,r){let t=[];for(let n of e){if(null==n)continue;let e=w(n,r+1);""!==e&&t.push(e)}return t.length>0?t.join(" "):""}function w(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r>5?"":e instanceof Error?e.message:"string"==typeof e||"number"==typeof e||"boolean"==typeof e?String(e):y.isValidElement(e)?function e(r,t){var n;let o=r.props;return"object"==typeof o&&null!==o&&"defaultMessage"in o&&"string"==typeof o.defaultMessage?o.defaultMessage:"object"==typeof o&&null!==o&&"children"in o?(n=o.children,"string"==typeof n||"number"==typeof n||"boolean"==typeof n?String(n):null==n?"":Array.isArray(n)?v(n,t+1):y.isValidElement(n)?e(n,t+1):w(n,t+1)):""}(e,r):Array.isArray(e)?v(e,r):""}var h=t(46127);let E=(0,y.createContext)(void 0);function _(e){let{children:r}=e,t=(0,y.useRef)(1),[o,a]=(0,y.useState)([]),i=(0,y.useRef)(null),l=(0,y.useRef)([]),u=(0,y.useCallback)(e=>{i.current=e,l.current.forEach(r=>{e(r,void 0)}),l.current=[]},[]),c=(0,y.useCallback)(async e=>{if(null!==i.current)return i.current(e);l.current.push(e)},[]),f=(0,y.useCallback)(e=>{a(r=>r.filter(r=>r.id!==e))},[]),d=(0,y.useCallback)((e,r)=>{let n=t.current++,{timeout:o,error:i,errorContext:l}=r||{};return!function(e){var r;let{userFacingMessage:t,error:n,toastId:o,errorContext:a,track:i}=e,l=w(t),u=l?"".concat(l.substring(0,200)).concat(l.length>200?"...":""):"User-facing error toast",c=l?"User-facing error toast: ".concat(u):"User-facing error toast";i({event_key:"claudeai.user_facing_error.shown",error_message:u,toast_id:o,error_type:n instanceof Error?n.name:typeof n,error_source:(null==a||null==(r=a.tags)?void 0:r.source)||"unknown",has_original_error:!!n,original_error_message:n instanceof Error?n.message.substring(0,200):void 0,error_stack_trace:(e=>{if(e instanceof Error&&e.stack)return e.stack.split("\n").slice(0,3).join("\n").substring(0,500)})(n),error_code:(e=>{if(e instanceof Error&&"code"in e)return String(e.code)})(n),error_status_code:(e=>{if(e instanceof Error){if("statusCode"in e&&"number"==typeof e.statusCode)return e.statusCode;if("status"in e&&"number"==typeof e.status)return e.status}})(n),offline_status:"undefined"!=typeof navigator?!navigator.onLine:void 0});let f=(null==a?void 0:a.tags)||{},d=(null==a?void 0:a.extra)||{};if(n instanceof Error){let e=Error(c);e.stack=n.stack,(0,s.Cp)(e,{tags:{source:"error-toast",...f},extra:{toastId:o,originalErrorMessage:n.message,originalError:n,...d}})}else n?(0,s.Cp)(Error(c),{tags:{source:"error-toast",errorType:typeof n,...f},extra:{toastId:o,originalError:n,...d}}):(0,s.Cp)(Error(c),{tags:{source:"error-toast",errorType:"string"==typeof t?"string":"react-element",...f},extra:{toastId:o,extractedText:c,...d}})}({userFacingMessage:e,error:i,toastId:n,errorContext:l,track:c}),a(r=>[...r,{id:n,message:e,toastType:"error"}]),o&&setTimeout(()=>f(n),o),n},[f,c]),g=(0,y.useCallback)((e,r)=>{let n=t.current++;return a(r=>[...r,{id:n,message:e,toastType:"success"}]),r&&setTimeout(()=>f(n),r),n},[f]),p=(0,y.useMemo)(()=>({toasts:o,addError:d,addSuccess:g,clearToast:f,registerSegmentTracker:u}),[o,d,g,f,u]);return(0,n.jsx)(E.Provider,{value:p,children:r})}function S(){let e=(0,y.useContext)(E);if(!e)throw Error("Must be called within ErrorsProvider");return e}let k=p.z.object({id:p.z.string().optional().nullable(),title:p.z.string().optional().nullable(),message:p.z.string().optional().nullable(),displayFrequencyHours:p.z.number().optional().nullable()}),C={};function I(){let{registerSegmentTracker:e}=S(),{track:r}=(0,b.st)();return(0,y.useEffect)(()=>{e(r)},[e,r]),null}function M(){var e;let{id:r,title:t,message:n,displayFrequencyHours:s}=(0,a.iW)("claude_system_message",C,k),{account:i}=(0,m.YL)(),u=null!=(e=null==i?void 0:i.uuid)?e:"logged-out",f=(0,g.usePathname)(),[p,b]=(0,h.Vc)("dismissed-system-messages",{}),v=(0,y.useMemo)(()=>()=>b(e=>{let t=l()(e);return r&&d()(t,[u,r],Date.now()),t}),[b,u,r]);return(0,y.useMemo)(()=>{if(!i||(0,o.Xs)(i,!0)||"/download"===f||!r)return!1;let e=c()(p,[u,r]);return!e||"boolean"==typeof e||!!s&&Date.now()-e>=60*s*6e4},[i,r,u,p,s,f])?{currentSystemMessageId:r,currentSystemMessageTitle:t,currentSystemMessageContent:n,dismissCurrentSystemMessage:v}:{currentSystemMessageId:null,currentSystemMessageTitle:null,currentSystemMessageContent:null,dismissCurrentSystemMessage:()=>null}}}}]);