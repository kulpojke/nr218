<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Syllabus - NR 218 - Introduction to GIS - Winter 2026</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-53b9468ac95cb2fade5b249ba61a8ae1.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body>

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Syllabus - NR 218 - Introduction to GIS - Winter 2026</h1>
</div>



<div class="quarto-title-meta column-page">

    
  
    
  </div>
  


</header>


<p><a href="#winter-term-calendar-2026">Jump to class calendar</a></p>
<section id="class-details" class="level2">
<h2 class="anchored" data-anchor-id="class-details">Class Details</h2>
<p>Building 10 (Erhart Agriculture, a.k.a. part of <em>Aglish</em>), Room 204</p>
<p>Monday: 9:10 - 1:00<br>
Wednesday: (9:10 - 12:00)</p>
</section>
<section id="instructor-details" class="level2">
<h2 class="anchored" data-anchor-id="instructor-details">Instructor Details</h2>
<p>Michael Huggins<br>
✉ <a href="mailto:mthuggin@calpoly.edu">mthuggin@calpoly.edu</a><br>
Office Hours: Mondays 2:30 - 4:30<br>
Building 72-107 (Plant Conservatory)</p>
<p><strong>TA:</strong> Dillen Corlett</p>
<p>✉ <a href="mailto:dicorlet@calpoly.edu">dicorlet@calpoly.edu</a></p>
<p>Dillen will host remote office hours, by appointment, during the quarter for those who cannot make my office hours. Follow this <a href="https://calendar.app.google/kKshuBDibeA6inss7">link to her schedule</a> to view available times.</p>
</section>
<section id="learning-goals" class="level2">
<h2 class="anchored" data-anchor-id="learning-goals">Learning Goals</h2>
<ul>
<li>How to formulate and answer problems using spatial data<br>
</li>
<li>How to create quality maps and graphics</li>
<li>Apply skills in remote sensing, GIS, and data science to solve a problem of your own design</li>
<li>Understand basic principles of GIS</li>
</ul>
</section>
<section id="project-assignments" class="level2">
<h2 class="anchored" data-anchor-id="project-assignments">Project Assignments</h2>
<p>This course centers on a series of 4 projects using different types of GIS data. The projects build on one another and you will learn new skills for each project. Plenty of class time will be spent on project work. Each student should hand in their own projects. See the <a href="#fall-term-calendar-2025">calendar</a> for due dates. Late assignments will be deducted 5% per day late.</p>
</section>
<section id="labs" class="level2">
<h2 class="anchored" data-anchor-id="labs">Labs</h2>
<p>Not every lab requires you turn in your results. The <a href="#fall-term-calendar-2025">calendar</a> lists due dates for the labs that need to be turned in.</p>
</section>
<section id="quizzes" class="level2">
<h2 class="anchored" data-anchor-id="quizzes">Quizzes</h2>
<p>Quizzes can happen any time! How many will there be? 1? 10? Who knows? Quizzes cannot be made up unless you are sick, or have an excused absence (sports, clubs etc…). If you are sick, you need to email me promptly (ideally before class) to let me know.</p>
</section>
<section id="assignment-weight" class="level2">
<h2 class="anchored" data-anchor-id="assignment-weight">Assignment Weight</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Assignment</th>
<th>Percentage of Grade</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="project_1.html">Project 1</a></td>
<td>10</td>
<td>Mapping</td>
</tr>
<tr class="even">
<td><a href="project_2.html">Project 2</a></td>
<td>10</td>
<td>Vector Data Analysis</td>
</tr>
<tr class="odd">
<td><a href="project_3.html">Project 3</a></td>
<td>10</td>
<td>Raster Data Analysis</td>
</tr>
<tr class="even">
<td><a href="project_4.html">Project 4</a></td>
<td>20</td>
<td>Remote Sensing, Image Analysis, and Modeling</td>
</tr>
<tr class="odd">
<td>Lab exercises</td>
<td>30</td>
<td>Not all labs have exercises due, see calendar</td>
</tr>
<tr class="even">
<td>Quizzes</td>
<td>15</td>
<td>Quizzes can happen any time!</td>
</tr>
<tr class="odd">
<td>Participation</td>
<td>5</td>
<td>Will be based on participation and engagement</td>
</tr>
</tbody>
</table>
</section>
<section id="grading" class="level2">
<h2 class="anchored" data-anchor-id="grading">Grading</h2>
<p>A: ≥ 90%<br>
B: ≥ 80%<br>
C: ≥ 70%<br>
D: ≥ 60%<br>
F: &lt; 60%</p>
<p>Note: Grading is not curved.</p>
</section>
<section id="assignment-submission-policy" class="level2">
<h2 class="anchored" data-anchor-id="assignment-submission-policy">Assignment Submission Policy</h2>
<p>Assignments will be submitted on Canvas. Late assignments will be penalized by 5% for every day they are late.</p>
</section>
<section id="academic-integrity" class="level2">
<h2 class="anchored" data-anchor-id="academic-integrity">Academic Integrity</h2>
<p>All students should be familiar with and adhere to the university’s academic integrity policy, which can be found here: https://osrr.calpoly.edu/academic-integrity</p>
</section>
<section id="use-of-ai" class="level2">
<h2 class="anchored" data-anchor-id="use-of-ai">Use of AI</h2>
<p>AI generated text <strong>may not be used</strong> for any writing.</p>
<p>Students can seek AI assistance for project work, but it is important to consider that AI will make you stupid (<a href="https://www.researchgate.net/publication/392560878_Your_Brain_on_ChatGPT_Accumulation_of_Cognitive_Debt_when_Using_an_AI_Assistant_for_Essay_Writing_Task">See this study for example</a>) and waste your time!</p>
<ul>
<li>Depending on AI prevents development of critical thinking, writing, and problem-solving skills</li>
<li>AI will often lead you down a terrible, deep rabbit hole of confusion</li>
<li>Getting quick answers without working through problems will leave gaps in foundational knowledge needed for advanced coursework</li>
<li>The struggle of working through difficult concepts is often where the most valuable learning occurs</li>
<li>AI uses heaps of electricity</li>
</ul>
<p>That is not to say LLMs are never useful or appropriate to use, but you need to know their limitations. I suggest reading this <a href="https://rutgers.app.box.com/s/v1ywq3701cb6pvnewz5ptuhojwwppmsg/file/1640499870205">critical AI literacy guide</a> from Rutgers University.</p>
</section>
<section id="textbook" class="level2">
<h2 class="anchored" data-anchor-id="textbook">Textbook</h2>
<p>You will read excerpts from Essentials of Geographic Information Systems during this course. A free and online version of the textbook can be found <a href="https://saylordotorg.github.io/text_essentials-of-geographic-information-systems">here</a>.</p>
</section>
<section id="tutorials" class="level2">
<h2 class="anchored" data-anchor-id="tutorials">Tutorials</h2>
<p>We will refer to a number of tutorial videos which describe QGIS processing. These will come primarily from two sources:</p>
<p><a href="https://www.qgistutorials.com/en/index.html">Ujaval Gandhi’s QGIS Tutorials and Tips</a><br>
<a href="https://docs.qgis.org/3.34/en/docs/training_manual/index.html">QGIS Training Manual</a></p>
<p>There are many other helpful sources of information on GIS Software, here area couple:</p>
<p><a href="https://courses.spatialthoughts.com/">Spatial Thoughts introduction-to-qgis.html</a><br>
<a href="https://docs.qgis.org/3.40/en/docs/">A Gentle Introduction to GIS gentle_gis_introduction/index.html</a></p>
</section>
<section id="winter-term-calendar-2026" class="level1">
<h1>Winter Term Calendar 2026</h1>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Date</th>
<th>Week</th>
<th>Lecture</th>
<th>Lab</th>
<th>Reading</th>
<th>Due Dates</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>January 5</td>
<td>1</td>
<td>Introduction, Computers</td>
<td>Lab 1</td>
<td>ch.&nbsp;1 and 2 as well as <a href="computers.html">this page about computers</a></td>
<td></td>
</tr>
<tr class="even">
<td>January 7</td>
<td>1</td>
<td>Basic GIS Concepts, Scale, Coordinate systems, and Map Projections</td>
<td>Lab 2</td>
<td></td>
<td><a href="computers_lab.html">Lab 1</a></td>
</tr>
<tr class="odd">
<td>January 12</td>
<td>2</td>
<td>Spatial Data Models and File Formats</td>
<td>Lab 3</td>
<td>ch.&nbsp;3 and 4</td>
<td></td>
</tr>
<tr class="even">
<td>January 14</td>
<td>2</td>
<td></td>
<td>Lab 4</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>January 20 (Tuesday)</td>
<td>3</td>
<td>Review: Coordinate Systems, Map Projections, Datums; Reprojection; GeoProcessing and Vector Operations</td>
<td>Lab 5</td>
<td>ch.&nbsp;5 and 6</td>
<td><a href="project_1.html">Project 1</a></td>
</tr>
<tr class="even">
<td>January 21</td>
<td>3</td>
<td>GeoProcessing and Vector Operations</td>
<td>Lab 6</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>January 26</td>
<td>4</td>
<td>Data Creation, Editing, Topology Basics</td>
<td>Lab 7</td>
<td>ch.&nbsp;7 and 8</td>
<td></td>
</tr>
<tr class="even">
<td>January 28</td>
<td>4</td>
<td>Rasters and Elevation Data</td>
<td>Lab 8</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>February 2</td>
<td>5</td>
<td>Raster Analysis: Map Algebra, Resampling, Reprojecting Rasters</td>
<td>Lab 9</td>
<td>ch.&nbsp;9 and 10</td>
<td><a href="project_2.html">Project 2</a></td>
</tr>
<tr class="even">
<td>February 4</td>
<td>5</td>
<td>Remote Sensing and Spectral Indices</td>
<td>Lab 10</td>
<td></td>
<td>Lab 8</td>
</tr>
<tr class="odd">
<td>February 9</td>
<td>6</td>
<td>Segmentation</td>
<td>Lab 11</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>February 11</td>
<td>6</td>
<td>Raster <span class="math inline">\(\times\)</span> Vector Operations, Zonal Statistics, Point Sampling</td>
<td>Lab 12</td>
<td></td>
<td>Lab 10</td>
</tr>
<tr class="odd">
<td>February 16</td>
<td>7</td>
<td>Holiday - NO CLASS</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>February 18</td>
<td>7</td>
<td></td>
<td>Lab 13</td>
<td></td>
<td><a href="lab_11.html">Lab 11</a></td>
</tr>
<tr class="odd">
<td>February 23</td>
<td>8</td>
<td>Workflow Design and Geoprocessing Models</td>
<td>Lab 14</td>
<td></td>
<td><a href="./project_3.html">Project 3</a></td>
</tr>
<tr class="even">
<td>February 25</td>
<td>8</td>
<td>Georeferencing</td>
<td>Lab 15</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>March 2</td>
<td>9</td>
<td>Advanced Topics (tbd)</td>
<td>Lab 16</td>
<td></td>
<td>Lab 14</td>
</tr>
<tr class="even">
<td>March 4</td>
<td>9</td>
<td></td>
<td>Lab 17</td>
<td></td>
<td>Lab 15</td>
</tr>
<tr class="odd">
<td>March 9</td>
<td>10</td>
<td>Modern Map Making</td>
<td>Lab 17</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>March 11</td>
<td>10</td>
<td></td>
<td>Lab 19</td>
<td></td>
<td><a href="(project_4.md)">Project 4</a></td>
</tr>
</tbody>
</table>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>